<mat-card class='card'>
  <mat-card-header>
    <mat-card-title>BPMN Analyzer</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class='diagram-parent'>
      <app-diagram
        [url]='diagramUrl'
        (importDone)='handleImported($event)'
      ></app-diagram>

      <div class='import-error' *ngIf='importError'>
        <strong>Failed to render diagram: </strong>
        {{ importError.message }}
      </div>
    </div>
  </mat-card-content>
  <mat-card-actions>
    <button mat-raised-button color='primary'
            matTooltip='Upload a BPMN model contained in a BPMN-file.'
            (click)='uploader.click()'>
      <mat-icon>upload</mat-icon>
      Upload BPMN model
    </button>
    <button
      mat-raised-button
      matTooltip='Download the BPMN model as a BPMN-file.'
      color='primary'
      (click)='downloadBPMNClicked()'
    >
      <mat-icon>download</mat-icon>
      Download BPMN model
    </button>
    <button mat-raised-button color='primary'
            matTooltip='Download a groove graph grammar.'
            (click)='downloadGGClicked()'>
      <mat-icon>cloud_download</mat-icon>
      Download graph grammar
    </button>
    <button mat-icon-button aria-label="Graph grammar download info button" color='primary' (click)='ggInfoClicked()'>
      <mat-icon>info</mat-icon>
    </button>
  </mat-card-actions>
</mat-card>
<mat-divider></mat-divider>
<mat-card>
  <mat-card-header>
    <mat-card-title>Verification</mat-card-title>
  </mat-card-header>
  <mat-tab-group animationDuration='0ms'>
    <mat-tab label='BPMN specific properties'>
      <mat-card-content class='top-margin'>
        Select one or more of the following properties to check for the BPMN model.
        <br>
        <mat-button-toggle-group name='properties' [(ngModel)]='generalProperties' aria-label='BPMN specific Properties'
                                 multiple class='top-margin'>
          <mat-button-toggle value='safeness'
                             matTooltip="Safeness means that during process execution no more than one token occurs along the same sequence flow.">
            Safeness
          </mat-button-toggle>
          <mat-button-toggle value='option to complete'
                             matTooltip="Option to complete means that any running process instance must eventually complete.">
            Option to complete
          </mat-button-toggle>
        </mat-button-toggle-group>
        <br>
        <button mat-raised-button color='primary'
                matTooltip='Checking general properties is not implemented in the web interface yet.'
                class='top-margin'
                disabled
                (click)='checkGeneralPropertiesClicked()'
        >
          <mat-icon>done_all</mat-icon>
          Check selected properties
        </button>
      </mat-card-content>
    </mat-tab>
    <mat-tab label='LTL properties'>
      <mat-card-content class='top-margin'>
        Specify a LTL property to check for the BPMN model.
        <br>
        <form class='form top-margin'>
          <mat-form-field class='full-width' appearance='fill'>
            <mat-label>LTL Property</mat-label>
            <textarea matInput [(ngModel)]='ltlProperty' placeholder='G(F(AllTerminated))'
                      name='ltlProperty'></textarea>
          </mat-form-field>
        </form>
        <button mat-raised-button color='primary'
                matTooltip='Checking custom LTL properties is not implemented in the web interface yet.'
                disabled
                (click)='checkLTLPropertyClicked()'>
          <mat-icon>check</mat-icon>
          Check LTL property
        </button>
        <button mat-icon-button aria-label="LTL syntax info button" color='primary' (click)='ltlInfoClicked()'>
          <mat-icon>info</mat-icon>
        </button>
      </mat-card-content>
    </mat-tab>
  </mat-tab-group>
</mat-card>
<input hidden type='file' #uploader (change)='uploadFile($event)'/>
